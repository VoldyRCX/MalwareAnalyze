# coding:utf-8
# 单文件向量化
# 特征序列在config.path['outfolder']+config.filename['feature']中
# 输出list vector
import sys
import config


def vectoring(filepath):
    # 临时
    ltmp = []
    # 向量
    vector = []
    # 先读取特征序列
    # config.path['outfolder'] + config.filename['feature'],
    with open(filepath, 'r', encoding='utf-8') as fopen:
        flines = fopen.readlines()
        # 处理行
        for eachline in flines:
            eachline = eachline.replace('\n', '')
            ltmp.append(eachline)
        fopen.close()
    with open(
            config.path['outfolder'] + config.filename['feature'],
            'r',
            encoding='utf-8') as ffeature:
        flines = ffeature.readlines()
        # 向量化
        for i in range(len(flines)):
            if flines[i].replace('\n', '') in ltmp:
                vector.append(1)
            else:
                vector.append(0)
        ffeature.close()
    return vector


if __name__ == '__main__':
    print(vectoring(sys.argv[1]))
